<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GDP Statistics</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <style>
        #container {
            display: flex;
        }
        #chart {
            width: 600px;
            height: 400px;
        }
        canvas {
            width: 14px;
            height: 14px;
            margin-right: 5px;
        }
        p {
            margin-left: 44px;
        }
        ul {
            list-style: none;
        }
        .red {
            background-color: red;
        }
        .blue {
            background-color: blue;
        }
        .green {
            background-color: green;
        }
        .purple {
            background-color: purple;
        }
        .orange {
            background-color: orange;
        }
        .yellow {
            background-color: yellow;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="chart"></div>
        <div>
            <p>Select Regions to Include</p>
            <ul id="toggle">
                <li>
                    <input type="checkbox" id="toggle1" checked="checked">
                    <label for="toggle1"><canvas class="red"></canvas>East Asia & Pacific</label>
                </li>
                <li>
                    <input type="checkbox" id="toggle2" checked="checked">
                    <label for="toggle2"><canvas class="blue"></canvas>Europe & Central Asia</label>
                </li>
                <li>
                    <input type="checkbox" id="toggle3" checked="checked">
                    <label for="toggle3"><canvas class="green"></canvas>Latin America & Caribbean</label>
                </li>
                <li>
                    <input type="checkbox" id="toggle4" checked="checked">
                    <label for="toggle4"><canvas class="purple"></canvas>Middle East & North Africa</label>
                </li>
                <li>
                    <input type="checkbox" id="toggle5" checked="checked">
                    <label for="toggle5"><canvas class="orange"></canvas>South Asia</label>
                </li>
                <li>
                    <input type="checkbox" id="toggle6" checked="checked">
                    <label for="toggle6"><canvas class="yellow"></canvas>Sub-Saharan Africa</label>
                </li>
            </ul>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/flotr2@0.1.0/flotr2.min.js"></script>
    <script>
        var data = {
            "1" : {
                data: [
                    [1980, 1815.97], 
                    [1981, 2001.89], 
                    [1982, 1962.33], 
                    [1983, 2087.9],
                    [1984, 2235.98], 
                    [1985, 2359.54], 
                    [1986, 3082.61], 
                    [1987, 3619.76], 
                    [1988, 4354.92], 
                    [1989, 4536.21], 
                    [1990, 4738.18], 
                    [1991, 5349.24], 
                    [1992, 5844.85], 
                    [1993, 6536.24], 
                    [1994, 7403.85], 
                    [1995, 8407.27], 
                    [1996, 8101.13], 
                    [1997, 7744.67],
                    [1998, 6929.79], 
                    [1999, 7740.39], 
                    [2000, 8374.97], 
                    [2001, 7788.98], 
                    [2002, 7911.87], 
                    [2003, 8699.26], 
                    [2004, 9756.92], 
                    [2005, 10409.53], 
                    [2006, 11031.66], 
                    [2007, 12325.98], 
                    [2008, 14210.86], 
                    [2009, 14623.04], 
                    [2010, 17066.37], 
                    [2011, 19790.74], 
                    [2012, 21172.22], 
                    [2013, 21410.75], 
                    [2014, 22086.2], 
                    [2015, 21997.19], 
                    [2016, 22772.3],
                    [2017, 24324.93], 
                    [2018, 26485.23], 
                    [2019, 27024.00],
                    [2020, 27144.86],
                    [2021, 31095.57],
                    [2022, 30655.25]
                ],
                color : "#ff0000"
            },
            "2" : {
                data : [
                    [1980, 3381.77],
                    [1981, 3485.92],
                    [1982, 3243.28],
                    [1983, 3039.62],
                    [1984, 3079.40],
                    [1985, 3038.93],
                    [1986, 2890.29],
                    [1987, 3082.61],
                    [1988, 3220.31],
                    [1989, 3378.68],
                    [1990, 3377.58],
                    [1991, 3299.47],
                    [1992, 2928.74],
                    [1993, 2671.91],
                    [1994, 2760.70],
                    [1995, 2870.26],
                    [1996, 2962.12],
                    [1997, 3041.57],
                    [1998, 2914.47],
                    [1999, 3134.23],
                    [2000, 3565.36],
                    [2001, 3570.32],
                    [2002, 3581.09],
                    [2003, 3847.19],
                    [2004, 4550.08],
                    [2005, 4847.31],
                    [2006, 5631.05],
                    [2007, 6546.85],
                    [2008, 7270.52],
                    [2009, 6650.18],
                    [2010, 7984.01],
                    [2011, 10121.14],
                    [2012, 10520.00],
                    [2013, 11140.00],
                    [2014, 12050.00],
                    [2015, 12360.00],
                    [2016, 12670.00],
                    [2017, 13450.00],
                    [2018, 14640.00],
                    [2019, 17066.37],
                    [2020, 16195.00],
                    [2021, 17444.86],
                    [2022, 20090.74]
                ],
                color : "#0000ff"
            },
            "3" : {
                data : [
                    [1980, 783.20],
                    [1981, 894.23],
                    [1982, 829.11],
                    [1983, 726.34],
                    [1984, 764.33],
                    [1985, 755.90],
                    [1986, 765.36],
                    [1987, 821.44],
                    [1988, 900.99],
                    [1989, 994.84],
                    [1990, 1182.39],
                    [1991, 1255.27],
                    [1992, 1361.34],
                    [1993, 1577.33],
                    [1994, 1790.10],
                    [1995, 1921.60],
                    [1996, 2079.82],
                    [1997, 2280.27],
                    [1998, 2300.62],
                    [1999, 2076.14],
                    [2000, 2292.62],
                    [2001, 2243.44],
                    [2002, 2014.50],
                    [2003, 2055.79],
                    [2004, 2368.19],
                    [2005, 2862.85],
                    [2006, 3351.83],
                    [2007, 3948.81],
                    [2008, 4591.30],
                    [2009, 4314.36],
                    [2010, 5349.06],
                    [2011, 6088.73],
                    [2012, 6155.02],
                    [2013, 6307.75],
                    [2014, 6432.63],
                    [2015, 5376.54],
                    [2016, 5249.75],
                    [2017, 5832.61],
                    [2018, 5706.09],
                    [2019, 5622.81],
                    [2020, 4777.57],
                    [2021, 5510.52],
                    [2022, 6246.62]
                ],
                color : "#008000"
            },
            "4" : {
                data : [
                    [1980, 1008.64],
                    [1981, 1159.01],
                    [1982, 1206.25],
                    [1983, 1227.5],
                    [1984, 1291.08],
                    [1985, 1318.67],
                    [1986, 1323.76],
                    [1987, 1369.67],
                    [1988, 1434.97],
                    [1989, 1499.48],
                    [1990, 1545.69],
                    [1991, 1566.06],
                    [1992, 1630.0],
                    [1993, 1694.01],
                    [1994, 1767.88],
                    [1995, 1855.59],
                    [1996, 1952.54],
                    [1997, 2063.58],
                    [1998, 2116.33],
                    [1999, 2192.16],
                    [2000, 2328.47],
                    [2001, 2397.42],
                    [2002, 2466.72],
                    [2003, 2628.1],
                    [2004, 2875.02],
                    [2005, 3129.34],
                    [2006, 3439.3],
                    [2007, 3751.07],
                    [2008, 4074.77],
                    [2009, 3930.75],
                    [2010, 4134.24],
                    [2011, 4171.29],
                    [2012, 4243.76],
                    [2013, 4347.8],
                    [2014, 4442.66],
                    [2015, 4408.82],
                    [2016, 4430.32],
                    [2017, 4561.7],
                    [2018, 4715.28],
                    [2019, 4789.12],
                    [2020, 4334.11],
                    [2021, 4524.52],
                    [2022, 4985.23]
                ],
                color : "#800080"
            },
            "5" : {
                data : [
                    [1980, 235.96],
                    [1981, 250.14],
                    [1982, 258.79],
                    [1983, 273.95],
                    [1984, 272.68],
                    [1985, 296.51],
                    [1986, 314.03],
                    [1987, 348.69],
                    [1988, 374.68],
                    [1989, 378.11],
                    [1990, 407.07],
                    [1991, 362.16],
                    [1992, 384.62],
                    [1993, 380.99],
                    [1994, 432.20],
                    [1995, 479.71],
                    [1996, 524.81],
                    [1997, 550.55],
                    [1998, 558.26],
                    [1999, 598.15],
                    [2000, 630.24],
                    [2001, 645.68],
                    [2002, 677.43],
                    [2003, 791.03],
                    [2004, 917.08],
                    [2005, 1050.60],
                    [2006, 1196.09],
                    [2007, 1504.16],
                    [2008, 1527.61],
                    [2009, 1683.17],
                    [2010, 2062.47],
                    [2011, 2277.35],
                    [2012, 2302.40],
                    [2013, 2362.71],
                    [2014, 2587.79],
                    [2015, 2704.84],
                    [2016, 3010.76],
                    [2017, 3433.88],
                    [2018, 3534.21],
                    [2019, 3658.00],
                    [2020, 3490.01],
                    [2021, 4062.78],
                    [2022, 4361.63]
                ],
                color : "#ff5a00"
            },
            "6" : {
                data : [
                    [1980, 282.05],
                    [1981, 389.89],
                    [1982, 357.76],
                    [1983, 314.84],
                    [1984, 275.68],
                    [1985, 254.46],
                    [1986, 261.4],
                    [1987, 297.21],
                    [1988, 313.58],
                    [1989, 319.56],
                    [1990, 375.42],
                    [1991, 393.46],
                    [1992, 363.86],
                    [1993, 340.91],
                    [1994, 324.86],
                    [1995, 377.57],
                    [1996, 394.51],
                    [1997, 409.66],
                    [1998, 396.14],
                    [1999, 400.03],
                    [2000, 424.44],
                    [2001, 407.31],
                    [2002, 443.19],
                    [2003, 558.25],
                    [2004, 693.31],
                    [2005, 823.36],
                    [2006, 973.53],
                    [2007, 1127.37],
                    [2008, 1278.24],
                    [2009, 1230.01],
                    [2010, 1461.71],
                    [2011, 1649.5],
                    [2012, 1712.72],
                    [2013, 1819.94],
                    [2014, 1900.85],
                    [2015, 1695.99],
                    [2016, 1576.54],
                    [2017, 1705.94],
                    [2018, 1774.22],
                    [2019, 1823.37],
                    [2020, 1714.05],
                    [2021, 1926.46],
                    [2022, 2047.35]
                ],
                color : "#ffff00"
            }
        };

        var chartOptions = {
            title: "Gross Domestic Product",
            grid: {
                horizontalLines: true,
                verticalLines: true,
            },
            yaxis: {
                min: 0, max : 32000,
                tickFormatter: function(val) {return "$" + val + "B" }
            }
        };

        var chart;

        $(document).ready(function(){
            chart = Flotr.draw(document.getElementById("chart"), getActiveChartData(), chartOptions);
            
            for (var i = 1; i <= 6; i++) {
                $("#toggle" + i).change(function(){
                    updateChart();
                });
            }

            function updateChart() {
                var newChartData = getActiveChartData();
                Flotr.draw(document.getElementById("chart"), newChartData, chartOptions);
            }

            function getActiveChartData() {
                var activeChartData = [];
                for (var i = 1; i <= 6; i++) {
                    if($("#toggle" + i).is(":checked")) {
                        activeChartData.push(data[i]);
                    }
                }
                return activeChartData;
            }
        });
    </script>
</body>
</html>